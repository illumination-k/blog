export const posts = [{"id":"ABC097","category":"atcoder","data":{"title":"ABC097","description":"Atcoder練習帳 ABC097","words":"ABC 097 前提 rust allow non snake case unused imports use proconio input fastout marker whiteread parse line std collections num traits superslice ops itertools Itertools ItertoolsNum fn solve const MOD usize 000 007 INF MAX isize let flag if abs true else false println Yes No main pub prime factorize PrimInt NumAssign mut Vec res new one signed shl while zero ex push ans for in rev primes iter map any continue all equal break 素因数 分解 もの あっ アウト Chars length len bset BTreeSet String dbg tmp string collect contains insert append str enumerate return 小さい 見れ lt 明らか 以下 substring 部分 文字 良い derive Debug Clone struct UnionFind For element at index store the of its parent representative itself stores own This forms equivalence classes which are disjoint sets each with unique size vector group inline unsafe get unchecked xs debug assert impl where hash Hash Create Self vec from unwrap Return Panics is out bounds find self to loop Use indexing because we can trust internal set ids xparent Write back found flattening datastructure process and quicken future lookups recursive grandparent Returns given elements belong same returns otherwise equiv bool Unify two containing were already they unified or union xrep yrep xrepu yrepu xsize ysize The rank corresponds roughly depth treeset so put smaller below larger mapping into labeling write ix member HashSet HashMap entry xy un swap できる 対象 エッジ する グラフ 考える 連結 成分 属し いれ 同士 交換 可能 なる 正しい 場所 ある 判定 いけ 答え 求まる いる メソッド みたい 作成 遅い デバッグ 以外 使う こと そう 基本 これ 使い なっ eqiv 177 対し 難易 変わら 水色 ...？ Atcoder 練習 atcoder"}},{"id":"manhattan","category":"atcoder","data":{"title":"Manhattan Distance Memo","description":"マンハッタン距離に関するメモ","words":"TL DR メモ 詳しく 最近 45 回転 事情 参照 ほしい マンハッタン 距離 以下 よう 表さ れる 最大 与え られ とき 求め 探索 する かかっ しまう せる 手法 使う なる 変換 こと 本来 sqrt 大き かかる 本質 場合 無視 できる つまり 見え 可能 疑う よい まま 行う 現れる 絶対 考える max 番目 注目 そこ 戻す でき 表す くる 置く なっ ij 目的 leq これ 変形 最初 入れ替え 結果 変わら それぞれ 独立 計算 一番 大きい もの 小さい 引け いい xi min 書く 同様 yi 最小 求める 解く 次元 空間 拡大 km むずかしい Manhattan Distance Memo atcoder"}},{"id":"bioinformatics_file_format","category":"bioinformatics","data":{"title":"Bioinformaticsで使うファイルフォーマットまとめ","description":"バイオインフォマティクスをしていて、障壁になることの1つにファイルフォーマットが多すぎる、という問題があると思います。ツールを動かそうとするとこれとこれとこれが必要となって、どうやってこの形式のファイルを作ればいいんだ？ということはよくあります。備忘録を兼ねて、よく使うフォーマットと関連するツールについてまとめておきます。","words":"TL DR バイオインフォマティクス 障壁 なる こと ファイル フォーマット すぎる 問題 ある 思い ツール 動かそ する これ 必要 なっ やっ 形式 作れ いい あり 備忘録 兼ね 使う 関連 まとめ おき 基本 網羅 てる 思う 新しい 出会え 追記 いき 一覧 fasta fastq sam bam bed gtf gff wig bigwig vcf gvcf 場面 使い 一番 最初 見る 始まる ID 配列 データ そのもの 保存 分かれ 改行 許さ IUB IUPAC 規定 いる 塩基 コード アミノ酸 使用 でき 詳しく Wikipedia 参照 ください sample 以下 よう なり gi 5524211 gb AAD 44166 cytochrome Elephas maximus LCLYTHIGRNIYYGSYLYSETWNTGIMLLLITMATAFMGYVLPWGQMSFWGATVITNLFSAIPYIGTNLV EWIWGGFSVDKATLNRFFAFHFILPFTMVALAGVHLTFLHETGSNNPLGLTSDSDKIPFHPYYTIKDFLG LLILILLLLLLALLSPDMLGDPDNHMPADPLNTPLHIKPEWYFLFAYAILRSVPNKLGGVLALFLSIVIL GLMPFLHTSKHRSMMLRPLSQALFWTLTMDLLTLTWIGSQPVEYPYTIIGQMASILYFSIILAFLPIAGX IENY 使い道 blastdb 作成 マルチプルアラインメント 系統 解析 bowtie STAR マッピング インデックス アクセス 扱う NGS れる 厳密 画像 多分 シーケンサー 持っ そこ 直接 扱っ 限り 以前 読ま リード 名前 示す ヘッダ クオリティ 記載 分ける ため 書か 置か 違い 行内 NCBI SRA 存在 SRR 001666 071112 SLXA EAS 817 345 length 36 GGGTGATGGCCGCTGCCGATGGCGTCAAATCCCACC IIIIIIIIIIIIIIIIIIIIIIIIIIIIII IG IC AGCTN おり Phred クオリティスコア もの 使わ 高い エラー 可能 低い 最近 バージョン サンガー よる オッズ そう 実際 数字 ASCII 33 126 文字 エン コーディング SAM BAM 共通 10 log クオリティコントロール 程度 変換 多い 印象 RNA seq 介さ まま 発現 測定 クオリティコントロールツール つかわ fastQC fastp Trimmomatic 定量 思え イントロン 考慮 DNA 読む とき 処理 専用 Bisulfite Sequence 特殊 bulk sequence その他 分割 ダウンサンプリング 行い 場合 紹介 seqkit 有用 マージ cat ネタ gzip テーブル これら ほう 精度 CSV わかり やすい わから 出力 package tximport 使っ 仕方 こちら 参考 scRNA それ 代表 miRNA ない 感じ isomir みたい 概念 あっ 独自 いく 統一 mirGFF 提案 かなり 成熟 format ところ 書き TCGA 扱わ パイプライン 行っ あと バイナリ 同一 位置 すべて 情報 格納 膨大 詳細 マニュアル 読ん ほしい 以外 リンク ボディ 部分 HD VN SO coordinate SQ SN ref LN 45 001 99 30 37 39 TTAGATAAAGGATACTG 002 AAAAGATAAGGATA 003 GCCTAAGCTAA SA 29 17 004 16 14 ATAGCTTCAGC 2064 TAGGC 147 CAGCGGCAT NM Format cigar 読み方 samtools Sam CIGAR string MD tag 変異 mismatch indels 取得 Explain Flags GitHub Pages Strand specific アラインメント 操作 使え picard 可視 ふう 貼り つい 確認 観点 重要 IGV 簡単 後述 GFF GFT bedgraph できる インストール おく duplicate read 除去 マッピングクオリティ フィルター 行う 上げ 複雑 deeptools alignmentSieve コマンド 便利 フラグメントサイズ Specific 抽出 行え bamUtils トリミング csv etc 大体 cuffdiff 有名 推奨 遺伝子 アノテーション 検出 Variant Call VCF ステップ 考え SNV 想定 SV GATK 公式 役に立ち 貼っ mpileup ピーク コール ChIP 集中 領域 行わ 準ずる 転写 因子 狭い ヒストン 修飾 広い られ 方法 異なる 使い分ける htslib 本体 API 提供 凝っ 言語 Wrapper 個人 知っ github pysam rust hts nim 各種 用途 浮かび bash input output bedtools mer 機械 学習 マップ single bamtofastq fq awk bamtobed genomecov bamCoverage bg of オプション ノーマライズ くれ RPGC normalize 対応 RPKM CPM TPM bw 扱い python pybedtools ライブラリ chrom chromStart chromEnd 必須 自由 決まっ UCSC FAQ 染色 スタート index 終了 name score 任意 スコア track 濃淡 反映 strand thickStart CDS 開始 thickEnd itemRgb RGB カラー blockCount exon ブロック blockSizes サイズ blockStarts 以降 パラメーター BED 12 呼ん 三行 あれ 微妙 扱え 意味 非常 getfasta 興味 Motif Enrichment fi genome bedToBam mutation 失わ Bed っぽい Probability Transcriptome 連続 表示 せる あまり MethylDackel MACS まとまっ version GTF 番号 Scaffold source もと 作ら どこ feature gene five prime utr start end 方向 不明 frame coding フレーム attribute セミコロン 区切り 入力 id parent Ensembl Repeat 2419108 2419128 42 hid trf hstart hend 21 2419410 2502 AluSx 303 dust Pred trans 2416676 2418760 450 19 genscan GENSCAN 00000019335 Variation 2413425 2413805 厳格 決め transcript 持た なら コメント chr hg rmsk 16777161 16777470 2147 000000 AluSp 25165801 25166089 2626 AluY 33553607 33554646 626 grf gffread fa browser 比べる 軽い 目的 おすすめ ヒートマップ PCA 相関 機能 記事 オープン ソース Github 勉強 Python 決定 現状 ver 加え 含ん gatk ワーク フロー 登場 イメージ ページ プログラム 組ん 動かし 早い プログラミング 扱える パッケージ 系列 タブ pandas pyvcf vcfR 候補 fileformat VCFv fileDate 20090805 myImputationProgramV reference file references 1000 GenomesPilot contig 20 62435964 assembly md cdf 379 618 ff 66 beb da species Homo sapiens taxonomy phasing partial INFO NS Number Type Integer Description Samples With Data DP Total Depth AF Float Allele Frequency AA String Ancestral DB Flag dbSNP membership build 129 HapMap FILTER Quality below 50 Less than samples have data FORMAT GT Genotype GQ Read HQ Haplotype CHROM POS REF ALT QUAL NA 00001 00002 00003 14370 rs 6054257 PASS 48 51 43 17330 11 017 49 58 65 41 1110696 6040355 67 333 667 23 27 18 35 1230237 47 13 54 56 60 61 1234567 microsat GTC GTCT 40 dbSNPs 知ら SNPs データベース 配布 broadinstitute google cloud platform たま twobit GCBias 補正 ビット 効率 faToTwoBit 詳しい 使い方 サイト 準拠 策定 bioaxiv 論文 Desvignes et al 2020 Bioinfomatics 様々 相互 mirtop 修正 seqbuster miRge isomiR SEA sRNAbench Prost mirTop 通す isomiRs count matrix 用い 最後 思っ すごい 分量 しまい 間違い 指摘 いただける 幸い Bioinformatics bioinformatics"}},{"id":"cellranger_star","category":"bioinformatics","data":{"title":"CellRangerでSTARのパラメータを変更する","description":"single cell RNA-seqを知ってる人ならまず知っているであろう、Cell Ranger。使ったことがなかったんですが、ちょっと使ってみようかなと思いました。しかし、これ内部的にはSTARを使ってマッピングするんですが、STARのパラメーターを引数でとれない、という問題（誰も問題にしていない）があります。公式の解答としては、自分でビルドしてね、責任は持たないけど、ってことらしいです。","words":"TL DR single cell RNA seq 知っ てる いる Cell Ranger 使っ こと なかっ みよ 思い これ 内部 STAR マッピング する パラメーター 引数 とれ 問題 あり 公式 解答 自分 ビルド 責任 持た Dockerfile 最初 完成 貼っ おく 感じ ソース コード 改変 Github clone ディレクトリ 置い docker FROM debian RUN apt get update install wget git curl build essential pkg config make clang golang 11 go libz dev libbz liblzma cython python pip proto https tlsv sSf sh rustup rs qq autoremove autoclean rm rf var lib lists log dpkg mkdir cellranger ENV PATH usr bin root cargo 28 default numpy docopt ln local dist packages core include WORKDIR ranger tar gz http cf 10 xgenomics com releases developers Expires 1590315393 Policy eyJTdGF ZW lbnQiOlt IlJlc 291 cmNlIjoiaHR cDovL NmLjEweGdlbm taWNzLmNvbS yZWxlYXNlcy kZXZlbG wZXJzL Jhbmdlci zLjAuMi 50 YXIuZ oiLCJDb 25 kaXRpb 24 iOnsiRGF ZUxlc NUaGFuIjp IkFXUzpFcG jaFRpbWUiOjE OTAzMTUzOTN fX dfQ Signature SVmge JPzIIYfhszzUjw Dv ilbAWVcNTyFSrjtfUZhjyW zAhqPD PzK 04 pm wJDwhzG GNfsY hSPbrGliGBsrBTj MhguBQu DYMOk ej VKFtskZ CbM YU aS rbTsru 33 ceokI teZnf JdA 690 AuC VM fNLIbq iRRoNOdz DsG Iao lRt NnRc 976 iTO lvB 728 jyKqFYQQBiMTEQkMKi 21 hI PW aRSXtvLCab EchTeXC OnuMKnYwyXAh NFEH qI 12 bG sGSc oJBxLQCJ ZFXh iTbSR YeZCsrUn oM EnTFXvFOQ Key Pair Id APKAI RYOXBWRPDA zxvf github martian lang download linux 86 64 ADD from sourceme bash and miniconda cr cs lz dda 596 tenkit MROPATH mro PYTHON PYTHONPATH adapters PYTHONUSERBASE LD LIBRARY others MROFLAGS vdrmode rolling LC ALL 依存 もの 14 rust その他 必要 バイナリ DL 言語 統一 ほしい 見る わから 巨大 なっ しまっ パッケージ README 書い 入っ エラー なり あと とき ファイル ない 怒ら れる シンボリックリンク 環境 変数 source すれ いい ENTRYPOINT 使え singularity イメージ 変換 やめ 解釈 くれる reference py 439 クラス 定義 align メソッド 使う def self read fastq fn out genome bam threads cwd None max report alignments per group tags if is os getcwd args genomeDir star path outSAMmultNmax str runThreadN readNameSeparator space outSAMunmapped Within KeepPairs outSAMtype SAM outStd outSAMorder PairedKeepInputOrder ここ 好き 入れれ 無事 変更 でき CellRanger パラメータ bioinformatics"}},{"id":"gatk4_ranseq_bestpractice","category":"bioinformatics","data":{"title":"gatk4のRNA-seq bestpractice","description":"genomic sequenceと少しRNA-seqのパイプラインは違うので、bestpracticeをbashで実行するメモ","words":"TL DR genomic sequence RNA seq パイプライン 違う メモ 基本 一緒 Mapping STAR two pass 使用 する SplitNCigarReads 適用 VQSR 処理 異なっ これら gatk rnaseq germline snps indels 参考 順番 いき 全体 流れ 以下 通り 必要 ファイル 準備 Genome mapping PCR duplicates 除去 BQSR 計算 変異 検出 GVCF VCF 変換 フィルター 環境 GATK Docker イメージ 公式 配布 いる それ 使い bash docker pull broadinstitute run rm it hg 38 説明 fasta インデックス fai dict gtf gff なく よい index known SNPs 提供 BroadInstitute Google Cloud Platform ダウンロード すれ いい 思い でき 自力 作り こと Homo sapiens assembly dbsnp 138 vcf gz Mills and 1000 gold standard 対応 idx おき GTF GFF UCSC TableBrowser あたり 作成 方法 samtools faidx genome fa picard CreateSequenceDictionary 使っ Index runMode genomeGenerate genomeDir genomeFastaFiles sjdbGTFfile 作る とき 使う イントロン 領域 上手く くれる 大丈夫 twopassMode Basic readFilesCommand gunzip readFilesIn input fastq outSAMtype BAM SortedByCoordinate outSAMattrRGline ID LB lib PL illumina SM PU unit outFileNamePrefix output Aligned out bam 最近 twopassMapping くれ ため RG タグ 適当 付け 重要 そこ サンプル ごと 変更 ついで つけ 普通 そう markdup MarkDuplicates mdedup CREATE INDEX true VALIDATION STRINGENCY SILENT metrics Cigar 意味 リード 分割 java options 合わせ 設定 ください Xms 32 Xmx split 既知 データ もと 塩基 スコア 行い その後 修正 BaseRecalibrator sites recal tablegatk ApplyBQSR bqsr table HaplotypeCaller 手順 active region de Brujin graph ローカル アセンブリ あと Smith Waterman ペアワイズアラインメント 潜在 場所 最後 PairHMM それぞれ 最終 決定 ERC 出力 情報 含ん 詳しく こちら 参照 まま 欲しい フォーマット GenotypeGVCFs フィルタ リング seqeuence 解析 行う 算出 存在 ステップ 単純 今回 基づい ハードフィルタリング VariantFiltration window 35 cluster filter name FS 30 QD filtered bestpractice 実行 bioinformatics"}},{"id":"ngs_matome","category":"bioinformatics","data":{"title":"NGS解析に関するまとめ","description":"次世代シーケンサーの解析って言ってもピンとこない人が多いような気がするので、知識の整理も兼ねてその辺から軽く書いていこうと思います。生物わかんない人にわかるように頑張ろうと思います。","words":"TL DR バイオインフォマティクス っぽい こと 書こ 次世代 シーケンサー 解析 言っ 多い よう する 知識 整理 兼ね 軽く 書い いこ 思い 生物 わかん わかる 頑張ろ ...（ 無理 あり 全て 基本 PCR 微量 とれ DNA in vitro 爆発 増やす 手法 ない なら 分子生物学 分野 頻出 ポリメラーゼ 新しい 伸長 せる 酵素 プライマー 一部 くっつく 配列 結合 部位 リクルート 繰り返す 同一 fig オーダー でき すごい 決定 サンガー 方法 とら 以下 画像 増幅 取り込む 反応 停止 ジデオキシヌクレオチド 同時 取り込ま ランダム 違う 合成 電気 ごと 分離 場合 ACGACGTTCGTCA 現在 技術 進歩 あれ 500 bp base pair 程度 リード 200 サンプル 近く 読む 経験 最新 機器 使え いける しれ 十分 画期的 近年 呼ば れる 膨大 シーケンシング 並行 実行 できる 普及 ここ 使わ いる ブリッジ Sequencing by synthesis 絞っ 説明 しよ ぼく ID illumina 関係 増やし 両端 アダプター 進化 みたい やつ つけ フロー セル 置く 場所 固定 ①〜②）。 とき 太い 青い 細い 同士 なっ 部分 橋渡し 構造 とり ③）。 起点 行う ④）。 状態 変性 切れる なり ⑤）。 局所 多量 ⑨）。 40 Gb られ 材料 揃っ 塩基 方向 ブロック 蛍光 dNTP 光らせ なん 確認 物質 取り除き サイクル 実際 NGS みる 力尽き 書き 結論 Qiita ブログ 移し 参考 文献 原理 まとめ bioinformatics"}},{"id":"phylo_raxmlng","category":"bioinformatics","data":{"title":"MUSCLE + trimal + RAxML-ng-mpiを使って最尤法で系統解析","description":"遺伝子の機能や、進化を考察する上でタンパク質を用いた系統解析は重要な解析手法の一つとして知られている。今回は、MUSCLEを用いてマルチプルアラインメントを作成し、非保存領域をTrimAlで除去したあと、RAxMLを用いて最尤法によって系統解析を行う。","words":"TL DR 遺伝子 機能 進化 考察 する タンパク質 用い 系統 解析 重要 手法 一つ 知ら いる 作成 行わ れる ワーク フロー 以下 よう もの Multiple Alignment 保存 配列 除去 任意 使わ 方法 節約 距離 行列 最尤法 ベイズ 最近 Graph Splitting 挙げ られる ソフトウェア PhyML RAxML Mrbayes 有名 今回 行う Workflow by MUSCLE 公式 サイト バイナリ ダウンロード 使用 デフォルト 一番 精度 いい 参考 パラメーター アラインメント afa 拡張 alignment fasta 採用 muscle in seqs fa out trimal github clone make Dockerfile docker FROM debian RUN apt get update install git build essential pkg config qq autoremove autoclean rm rf var lib lists log dpkg mkdir workspace local volume WORKDIR https com scapella source ENV PATH マニュアル よる trim automated 使う 良い ng 新しく version 公開 これ 使っ mpi 使い raxml README あたり ある wget unzip gcc cmake openmpi doc bin libopenmpi dev amkozlov releases download linux 86 64 MPI zip bash sh msa all model LG bs trees 100 threads ファイル ML search bootstrapping 見る 選択 discrete GAMMA with categories mean category rates estimate of alpha tree Bootstapping num Bootstrap 付き BestTree support Reference Edgar 2004 multiple sequence high accuracy and throughput Nucleic Acids Res 32 1792 1797 trimAl tool for trimming large scale phylogenetic analyses Salvador Capella Gutiérrez José Silla Martínez Toni Gabaldón Bioinformatics 2009 Aug 25 15 1972 Alexey Kozlov Diego Darriba Tomáš Flouri Benoit Morel Alexandros Stamatakis 2019 NG fast scalable user friendly maximum likelihood inference btz 305 doi 10 1093 bioinformatics マルチプルアラインメント 領域 TrimAl あと"}},{"id":"qsubpy_easy","category":"bioinformatics","data":{"title":"コマンドをqsubで直接ジョブに投げられるようにする","description":"スパコンを使っていると、qsubを使ってジョブを投げることがあるのではないかと思います。このときに、ワンライナーを実行したいときなど、一回ファイル作ってからコマンドを投げるのが非常にめんどくさいことがあります。そこで、Pythonのargparseとsubprocessを使って擬似的にコマンドからジョブを投げられるようにしました。","words":"TL DR スパコン 使っ いる qsub ジョブ 投げる こと ある 思い とき ワン ライナー 実行 ファイル 作っ コマンド 非常 めんどくさい あり Python argparse subprocess 擬似 投げ られる よう やっ 自体 単純 引数 各種 パラメーター 受け取っ 加工 作成 対し コード python usr local bin import os random from datetime def main parser ArgumentParser add argument command type str required True mem default slot name None remove action store true args parse param vmem req pe time now strftime script bash cwd source bashrc profile set eu if is file tmp 010 format randint 10 sh else with open as write join commands run 運用 場所 パス ついで シンボリックリンク おけ いつ 使える なる おすすめ qsubpy py おく cat export PATH path to directory ln みたい echo hello 感じ られ リソース 指定 16 必要 ない もらえれ 消え 名前 hoge ください デフォルト ランダム 整数 つけ 個人 足せ 簡単 log へん じれる みる 便利 注意 シバン 各自 環境 合わせ 権限 なけれ chmod 直接 する bioinformatics"}},{"id":"make_blog_1","category":"frontend","data":{"title":"Next.jsでブログを作ってみた","description":"Wordpressでブログを作っていたが、パフォーマンスが遅いのでNext.jsで作り直した。ほしい要件、使うフレームワークの選定など。","words":"TL DR WordPress 機能 いら 思っ ブログ 作る 思い VScode 記事 書き markdown へん push 終わり コピペ Wordpress PHP わから カスタマイズ 進ま ブラックボックス すぎる トップ 画面 感じ これ よく あと AMP フル 対応 でき 数式 頑張り lighthouse wordpress top 要件 こと 以下 もの ほしい いえ 全部 公開 永遠 そう 作成 いき 静的 ホスティング Netrify 管理 mdx 書い Github すれ 自動 更新 れる Toc Qiita みたい サイド バー category 別れ 一覧 検索 tag git 連動 history 連載 タグ つい 順番 ページネーション できる 長い がち スタイル material ui Prism js code syntax amp mathml css Google 関係 SEO Analytics やれる Adsense その他 希望 理解 伴っ Framework 個人 触っ いる React フレーム ワーク 選び くる Gatsby Next 有力 思う 理由 next 今後 活かせ 構成 シンプル 好き 使う プラグ イン 結局 なり 作っ ついで 悪戦苦闘 残し おき パフォーマンス 遅い 作り直し 選定 frontend"}},{"id":"make_blog_2","category":"frontend","data":{"title":"MDX or Markdown ?","description":"ブログ記事を書くのに、MDXを使うのか、Markdownを使うのか","words":"TL DR 最近 mdx 流行っ markdown jsx 使える すごい 思う Blog 書く とき 機能 いる 感じ 記事 拡張 いら 今回 採用 理由 書こ 思い 厳密 いう フォーマット Markdown 使っ レンダリング する 変換 しまい 使お 思え 使え デメリット 個人 ブログ 使う 不安 import snowfallData from snowfall json BarChart charts Recent trends 2019 has been particularly snowy year when compared to the last decade data やつ 便利 テンプレート 統一 にくく lt 変更 しまう 容易 エラー そう いや それ 一つ export meta title new みたい こと できる dynamic 動か fontmatter いい example const posts filename then 見た目 いけ 実際 起こっ 残る 受け 不満 VSCode Extension 充実 生産 効率 非常 高い へん 純粋 書ける よう メリット next js システム すごく pages hoge おく localhost 3000 そのまま ページ ピュア 適応 remark rehype プラグ イン config 全体 適用 なる あり 魅力 以下 plugins remarkMath require math remarkFrontmatter frontmatter remarkSlug slug remarkHeadings autolink headings remarkFootnotes footnotes rehypeKatex katex rehypePrism mapbox prism withMDX extension options remarkPlugins rehypePlugins module exports pageExtensions ts tsx md 追加 なり コードシンタクス 対応 参考 AMP 自前 やろ 思っ 多分 getStaticProps ファイル 読み込ん パース dangerousInnerHTML 読み込む 比べる 良い 考える plugin 一番 ラク 方法 素直 コード 想定 postId contentLoader 名前 察し くれる ありがたい Layout components getFilePath getFileMeta getMdNames lib BlogPostPage MDContent post return async function params filepath await props getStaticPaths mdNames paths map mdName fallback false やっ 単純 fs モジュール 一覧 取得 場所 戻し ついで メタデータ とっ パス 渡し 指定 yaml layout path component 作っ 実現 でき 大体 これ サイド バー 作れ header うまく 作り 考え custom loader 作る だいたい ただ 付き マークダウンファイル MDAST date aa aaa 部分 type children 探せ つまり parse metadata 可能 コンポーネント 行頭 headers value depth default やり おき すれ 置く カスタム 解釈 れる 情報 含ん 受け取れる sidebar toc JSX リファクタリング なれ ローダー 触れ 解決 ところ てる あと button Push 入れ なっ られる 準拠 書い 自動 アプローチ 問題 ある 知り MDX or frontend"}},{"id":"make_blog_3","category":"frontend","data":{"title":"Next.jsで作ったブログにStyleを適用していく","description":"Wordpressでブログを作っていたが、パフォーマンスが遅いのでNext.jsで作り直した。markdwonでレンダリングできるようになったので、Styleを適用していく。","words":"TL DR 前回 記事 markdown うまく レンダリング できる よう なっ Style 適用 いく 対象 最初 書い material ui Prism js code syntax amp mathml 数式 Github css AMP 対応 する 鬼門 prism 公式 サイト ダウンロード おく github 自動 生成 important 使わ でき へん 除い しまう あと raw loader 使っ app tsx import 直接 埋め込む Markdown ページ 読み込み 成分 入っ しまっ いる document 以下 感じ React from react Document Html Head Main NextScript next ServerStyleSheets core styles theme libs ts ignore prismCss globalCss global export default class MyDocument extends render return lang ja PWA primary color meta name content palette main body getInitialProps belongs to instead of it compatible with server side generation SSG async ctx const sheets new originalRenderPage renderPage enhanceApp App props collect initialProps await Styles fragment is rendered after the and page rendering finish Children toArray style key custom dangerouslySetInnerHTML html getStyleElement Token 落とす 作業 おけ コード ハイライト れる 順番 関係 prismjs ダーク テーマ 黒く なら 背景 おい example rust MOD usize as pandas pd read csv path file Katex type math inlineMath remark 必要 ある インライン paragraph children 注意 frac 普通 sum log bash yarn add 終わり 思っ こと なかっ サーバーサイドレンダリング とき CSS リセット 参考 実際 自分 画面 崩れ 時間 溶かし 幸い テンプレート 作成 くれ javascript typescript 書き換え リンク className 問題 行か Link コンポーネント 作っ 生み出す やつ 生み出さ build 原因 削除 InputBase 怪しかっ 感想 スタイル がっ つり っぽい もの 触ら だめ 難しい Bootstrap やっ 無い Next ブログ Wordpress パフォーマンス 遅い 作り直し markdwon frontend"}},{"id":"make_blog_4","category":"frontend","data":{"title":"Next.jsでカスタムローダーを使ってmdxをAMP対応させる","description":"Wordpressでブログを作っていたが、パフォーマンスが遅いのでNext.jsで作り直した。mdxをレンダリングするときに使うカスタムローダーを自作してAMP対応させる話。","words":"TL DR markdown ファイル mdx まま lt img タグ 使う AMP 数式 レンダリング コードシンタクス 対応 せる こと カスタム ローダー 自作 する 公式 詳しい JSX 使っ amp フォーマット jsx いる components 存在 それぞれ default 変換 しまえ 良い 基本 ast 記法 以下 よう 表さ れる yaml type value button push position ある 含む node 見つけ 埋め込ん ノード いい mathml インライン inline すれ なる remark math 使え 囲ま 部分 inlineMath js toAmpMathml const visit require unist util module exports toMathml function return transformer transformToJsxNode parent index newNode children mathVisitor layout container data formula inlineMathVistor 単純 良かっ width height 必須 特徴 一つ CSS うまく resize しまう 参考 どちら 固定 必要 あり 大き 引っ張ら スマ 見る 画像 上下 不自然 空白 生まれ 今回 パース 作業 サーバー サイド やる モジュール イメージ size とっ サイズ 入れる image パッケージ 簡単 取得 できる url 取っ くる とき めんどう 非同期 処理 parse 終わっ わかる みたい っぽい あたり 理解 きれ sync request 同期 強引 解決 注意 推奨 使用 場合 自己 責任 問題 なっ てる クライアント クラッシュ やすく build 走る 思い dynamic import 始める しれ path sizeOf 使わ 整形 あと リクエスト sr toAmpImg makeValue alt dimensions responsive src postion visitor let if startsWith join process cwd public else http ftp res GET buf Buffer from getBody syntax highlight prismjs Tokenize refactor register ところ 使い 言語 ロード よい これ amdx コード そのまま いただい かこ レポジトリ 熟読 highlighter ts ignore refractor core lang javascript tree code split registered null hChildren Next Wordpress ブログ 作っ パフォーマンス 遅い 作り直し frontend"}},{"id":"make_blog_5","category":"frontend","data":{"title":"next.jsで作ってみたブログに検索機能を導入する","description":"next.jsで作ってみたブログに形態素解析とflexsearchで検索機能を導入する","words":"TL DR 検索 機能 欲しかっ 形態素 解析 flexsearch 使っ 実装 感度 なん 感じ ngram 併用 ほう いい しれ 基本 戦略 完全 AMP 対応 getServerSideProps query 受け取っ かける 対象 サーバー 上げる data js みたい キャッシュ おい そこ 参照 する form 作成 get search ページ word 飛ばす jsx method action target top input type text name amp とき 必要 なっ くる 部分 blank 指定 あり そのまま 新しい タブ 開く kuromojin blog post 全部 とっ markdown 変換 それ cache よう 保存 strip 利用 結果 regex 関わり そう 抜い highlight 邪魔 思っ 使用 名詞 動詞 形容詞 残し 単語 以上 もの へん 設定 詰め 今回 タイトル 本体 いる 足す 足せ 思う 大まか 流れ getAllPosts 全体 中身 gray matter よん filterTocken ほしい トー クン title makeCache const fs require path glob remark tokenize POSTDIRPATH join process cwd src pages posts function pattern md sync return markdownToText content let use keep code err file if throw contents async filterToken res await POS LIST IGNORE REGEX filter token includes pos map surface test length makePostsCache filepaths Promise all filepath id parse base replace readFileSync matterResult words category new Set description fileContents export JSON stringify outdir writeFileSync pre commit 毎回 これ 実行 間違い 忘れる husky パッケージ package json build 以下 変更 scripts dev next start node script hooks yarn git add たび 自動 走る page こと 作っ いく ctx 変数 うけとる 大体 情報 入っ 使う import Link from link Layout components SearchResult props meta listitems idx url li key href Search Results Query ul FlexSearch index str split doc field default 時点 スペース 区切り ある カスタム 空白 array 以外 ドキュメント 書い とおり パス 渡し サイト 記事 Google すごい 参考 Gridsome イチ ブログ 作る 全文 つける Building component for your Next 導入 frontend"}}]